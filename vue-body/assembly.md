##如何用组件化思维思考？

Vue 是组件化开发。新手拿到一个项目，往往感觉无从下手。本节来聊聊组件化思维下的做事布置。

## 先要有设计图

如果有专业设计，做好图给我们当然好，但是即使没有，也应该在纸上，或者用 sketch 软件简单的画一个 Mock 模拟图。

![](./img/1525746626133-acdc1612-f722-406d-b6ea-e7d716f9538d.png)

## 第一步：要把界面分割成层级组件

如果有图了，可以试着在图上画一下方框。给每个方框一个名字。未来每一个框就是一个组件。  
但是是问题是，如何划分组件呢？这个其实跟创建一个函数是一个道理。遵循 单一职责原则 。一个组件只做一件事情。如果未来这个组件功能变多，就往外拆分子组件。  
一般来讲，如果底层对于数据的划分比较清楚，我们会发现，界面组件和数据的对应关系会非常的简单清晰。每个组件，用来显示一个具体部分的数据即可。

![](./img/1525747070093-4f2377ca-5794-4f9e-a618-d845ccfa02ac.png)

总共图上一共有五个组件。  
FilterableProductTable （黄色框）包含整个项目  
SearchBar ( 蓝框 ) 包含输入框  
ProductTable （ 绿色）展示根据用户输入进行筛选过的产品列表  
ProductCategoryRow ( 浅蓝色) 产品类别行，展示各个类别标题  
ProductRow (红色) 展示每个商品

如果我们仔细看 ProductTable 会发现，表单标题有点文字 Name Price ，这些文字就不用单独抽出成组件了。当然这个也并不绝对。这里我们把它们放到 ProductTable 组件内，是因为我们认为它就是表单功能的一部分。如果这部分文字变得非常复杂，那么拆出去也不是不可以。

## 第二步：做一个静态版本

组件层级划分完毕，下一步就可以写代码了。最简单的方式是：

> 开发 UI ，不管交互总体来讲，开发 UI ，打字多，动脑少。开发交互，反之。
> UI 也不是完全没有数据。数据可以通过 props 传人。不要使用组件内的 data （或者叫 state ）。Props 也就是属性，是专门用来从父到子传数据的。而组件内的 data ，是专门负责交互的。做 UI 的思路

```
可以从下向上，也可以从上到下
```

例如，从上到下，可以先做 FilterableProductTable 。基本原则是，简单项目从上到下，比较实用。大项目，反之。

## 第三步：确定最简（但是完整）的 UI 状态

这一步就是 state 规划技巧了。专门用来做交互。
